<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fate K-Line | AI å‘½ç†å¤§æ¨¡å‹</title>

    <!-- 1. å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- 2. å¼•å…¥ Vue 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <!-- 3. å¼•å…¥ ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }

        [v-cloak] {
            display: none;
        }

        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: #4f46e5;
            animation: spin 1s ease infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* ç®€æ˜“ line-clampï¼ˆä¸ä¾èµ– Tailwind æ’ä»¶ï¼‰ */
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 3;
            overflow: hidden;
            line-clamp: 3;
        }

        .line-clamp-6 {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 6;
            overflow: hidden;
            line-clamp: 6;
        }

        /* æŠ¥å‘Šå¡ç‰‡ï¼šç»Ÿä¸€é«˜åº¦ï¼Œé¿å…å†…å®¹æ’‘é«˜å¯¼è‡´è§†è§‰ä¸é½ */
        .report-grid {
            align-items: stretch;
        }

        .report-card {
            height: 240px;
            display: flex;
            flex-direction: column;
        }

        @media (max-width: 767px) {
            .report-card {
                height: auto;
            }
        }
    </style>
</head>

<body class="text-slate-800">

    <div id="app" v-cloak class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">

        <!-- é¡¶éƒ¨æ ‡é¢˜ -->
        <div class="text-center mb-10">
            <h1 class="text-4xl font-extrabold tracking-tight text-slate-900 sm:text-5xl">
                <span class="block text-indigo-600">Fate K-Line</span>
                <span class="block text-2xl mt-2 font-medium text-slate-500">æ´æ‚‰å‘½è¿èµ·ä¼ Â· é¢„è§äººç”Ÿè½¨è¿¹</span>
            </h1>
        </div>
        <!-- å…¨å±€åŠ è½½é®ç½© -->
        <div v-if="isBusy" class="fixed inset-0 z-40 bg-white/70 backdrop-blur-sm flex items-center justify-center">
            <div class="flex items-center space-x-3 text-indigo-700 font-semibold text-sm">
                <span class="loading-spinner h-6 w-6 border-2"></span>
                <span>æ‰§è¡Œä¸­ï¼Œè¯·ç¨å€™...</span>
            </div>
        </div>

        <!-- è¾“å…¥è¡¨å•åŒºåŸŸ -->
        <div v-if="!hasResult" class="max-w-lg mx-auto bg-white shadow-xl rounded-2xl overflow-hidden p-8">
            <h2 class="text-xl font-bold mb-6 text-gray-800 flex items-center">
                <svg class="w-6 h-6 mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
                è¾“å…¥å‡ºç”Ÿä¿¡æ¯
            </h2>

            <form @submit.prevent="runStep" class="space-y-5">
                <!-- ç¬¬ä¸€è¡Œï¼šå¹´æœˆæ—¥ -->
                <div class="grid grid-cols-3 gap-4">
                    <div class="col-span-1">
                        <label class="block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1">å¹´ä»½</label>
                        <input v-model.number="form.year" type="number"
                            class="block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2.5"
                            placeholder="2000">
                    </div>
                    <div class="col-span-1">
                        <label class="block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1">æœˆä»½</label>
                        <select v-model.number="form.month"
                            class="block w-full rounded-md border-gray-300 shadow-sm border p-2.5 bg-white">
                            <option v-for="m in 12" :key="m" :value="m">{{ m }}æœˆ</option>
                        </select>
                    </div>
                    <div class="col-span-1">
                        <label class="block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1">æ—¥æœŸ</label>
                        <select v-model.number="form.day"
                            class="block w-full rounded-md border-gray-300 shadow-sm border p-2.5 bg-white">
                            <option v-for="d in 31" :key="d" :value="d">{{ d }}æ—¥</option>
                        </select>
                    </div>
                </div>

                <!-- ç¬¬äºŒè¡Œï¼šæ—¶é—´ã€åˆ†é’Ÿã€æ€§åˆ« -->
                <div class="grid grid-cols-3 gap-4">
                    <div class="col-span-1">
                        <label class="block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1">æ—¶è¾°
                            (å°æ—¶)</label>
                        <select v-model.number="form.hour"
                            class="block w-full rounded-md border-gray-300 shadow-sm border p-2.5 bg-white">
                            <option v-for="h in 24" :key="h" :value="h-1">{{ h-1 < 10 ? '0' +(h-1) : h-1 }}ç‚¹</option>
                        </select>
                    </div>
                    <div class="col-span-1">
                        <label class="block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1">åˆ†é’Ÿ</label>
                        <select v-model.number="form.minute"
                            class="block w-full rounded-md border-gray-300 shadow-sm border p-2.5 bg-white">
                            <option value="0">00åˆ†</option>
                            <option value="1">01åˆ†</option>
                            <option value="2">02åˆ†</option>
                            <option value="3">03åˆ†</option>
                            <option value="4">04åˆ†</option>
                            <option value="5">05åˆ†</option>
                            <option value="6">06åˆ†</option>
                            <option value="7">07åˆ†</option>
                            <option value="8">08åˆ†</option>
                            <option value="9">09åˆ†</option>

                            <option value="10">10åˆ†</option>
                            <option value="11">11åˆ†</option>
                            <option value="12">12åˆ†</option>
                            <option value="13">13åˆ†</option>
                            <option value="14">14åˆ†</option>
                            <option value="15">15åˆ†</option>
                            <option value="16">16åˆ†</option>
                            <option value="17">17åˆ†</option>
                            <option value="18">18åˆ†</option>
                            <option value="19">19åˆ†</option>

                            <option value="20">20åˆ†</option>
                            <option value="21">21åˆ†</option>
                            <option value="22">22åˆ†</option>
                            <option value="23">23åˆ†</option>
                            <option value="24">24åˆ†</option>
                            <option value="25">25åˆ†</option>
                            <option value="26">26åˆ†</option>
                            <option value="27">27åˆ†</option>
                            <option value="28">28åˆ†</option>
                            <option value="29">29åˆ†</option>

                            <option value="30">30åˆ†</option>
                            <option value="31">31åˆ†</option>
                            <option value="32">32åˆ†</option>
                            <option value="33">33åˆ†</option>
                            <option value="34">34åˆ†</option>
                            <option value="35">35åˆ†</option>
                            <option value="36">36åˆ†</option>
                            <option value="37">37åˆ†</option>
                            <option value="38">38åˆ†</option>
                            <option value="39">39åˆ†</option>

                            <option value="40">40åˆ†</option>
                            <option value="41">41åˆ†</option>
                            <option value="42">42åˆ†</option>
                            <option value="43">43åˆ†</option>
                            <option value="44">44åˆ†</option>
                            <option value="45">45åˆ†</option>
                            <option value="46">46åˆ†</option>
                            <option value="47">47åˆ†</option>
                            <option value="48">48åˆ†</option>
                            <option value="49">49åˆ†</option>

                            <option value="50">50åˆ†</option>
                            <option value="51">51åˆ†</option>
                            <option value="52">52åˆ†</option>
                            <option value="53">53åˆ†</option>
                            <option value="54">54åˆ†</option>
                            <option value="55">55åˆ†</option>
                            <option value="56">56åˆ†</option>
                            <option value="57">57åˆ†</option>
                            <option value="58">58åˆ†</option>
                            <option value="59">59åˆ†</option>
                        </select>
                    </div>
                    <div class="col-span-1">
                        <label class="block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1">æ€§åˆ«</label>
                        <select v-model="form.gender"
                            class="block w-full rounded-md border-gray-300 shadow-sm border p-2.5 bg-white">
                            <option value="ç”·">ç”·</option>
                            <option value="å¥³">å¥³</option>
                        </select>
                    </div>
                </div>

                <!-- ç¬¬ä¸‰è¡Œï¼šåŸå¸‚ (æ–°å¢) -->
                <div>
                    <label class="block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1">å‡ºç”ŸåŸå¸‚
                        (ç”¨äºçœŸå¤ªé˜³æ—¶)</label>
                    <input v-model="form.city" type="text"
                        class="block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2.5"
                        placeholder="ä¾‹å¦‚ï¼šåŒ—äº¬ã€ä¸Šæµ·ã€æ·±åœ³">
                </div>

                <button type="submit" :disabled="stepDisabled || currentStep > 4"
                    class="w-full flex justify-center py-3.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all disabled:opacity-70 disabled:cursor-not-allowed mt-4">
                    <span v-if="stepDisabled && currentStep <=4" class="loading-spinner mr-3 h-5 w-5 border-2"></span>
                    {{ stepButtonText }}
                </button>
            </form>
            <p class="text-xs text-center text-gray-400 mt-4">
                æ³¨ï¼šAI åˆ†æåŸºäºå¤ä»£å­å¹³æœ¯ä¸ç°ä»£å¤§æ¨¡å‹æ¨ç†ï¼Œä»…ä¾›å¨±ä¹å‚è€ƒã€‚
            </p>
        </div>

        <!-- ç»“æœå±•ç¤ºåŒºåŸŸ -->
        <div v-else class="space-y-8 animate-fade-in-up">

            <div
                class="flex flex-col sm:flex-row sm:items-center sm:justify-between bg-white px-4 py-3 rounded-xl border border-gray-100 shadow-sm">
                <div class="text-sm text-gray-600">
                    å½“å‰æ­¥éª¤ï¼š<span class="font-semibold text-indigo-600">{{ currentStep <=4 ? stepButtonText : 'å…¨éƒ¨å®Œæˆ'
                            }}</span>
                            <span v-if="requestId" class="ml-2 text-xs text-gray-400">ID: {{ requestId }}</span>
                </div>
                <div class="flex items-center space-x-3 mt-3 sm:mt-0">
                    <button @click="runStep" :disabled="isBusy || currentStep > 4"
                        class="inline-flex items-center px-3 py-2 rounded-lg text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-70 disabled:cursor-not-allowed">
                        <span v-if="isBusy && currentStep<=4" class="loading-spinner mr-2 h-4 w-4 border-2"></span>
                        {{ currentStep > 4 ? 'å·²å®Œæˆ' : stepButtonText }}
                    </button>
                </div>
            </div>

            <!-- 1. å…«å­—åŸºç¡€ä¿¡æ¯å¡ç‰‡ -->
            <div v-if="result.baziInfo"
                class="bg-slate-900 text-white rounded-2xl p-8 shadow-2xl relative overflow-hidden">
                <div
                    class="absolute top-0 right-0 -mt-4 -mr-4 w-32 h-32 bg-indigo-500 rounded-full opacity-20 filter blur-xl">
                </div>

                <div class="flex flex-col md:flex-row justify-between items-center z-10 relative">
                    <div class="text-center md:text-left mb-6 md:mb-0">
                        <h2 class="text-2xl font-bold">å…«å­—æ’ç›˜å®Œæˆ</h2>
                        <p class="text-slate-400 mt-1 text-sm">
                            {{ form.year }}å¹´{{ form.month }}æœˆ{{ form.day }}æ—¥ {{ form.hour < 10 ? '0' +form.hour :
                                form.hour }}:{{ form.minute < 10 ? '0' +form.minute : form.minute }} | {{ form.city }} |
                                {{ form.gender }}å‘½ </p>
                    </div>
                    <div class="flex space-x-2 md:space-x-4 text-center">
                        <div class="bg-slate-800 p-3 md:p-4 rounded-lg w-20 md:w-24 border border-slate-700">
                            <div class="text-[10px] md:text-xs text-slate-500 uppercase">å¹´æŸ±</div>
                            <div class="text-xl md:text-2xl font-bold text-yellow-500 font-serif">{{
                                result.baziInfo.yearPillar }}</div>
                        </div>
                        <div class="bg-slate-800 p-3 md:p-4 rounded-lg w-20 md:w-24 border border-slate-700">
                            <div class="text-[10px] md:text-xs text-slate-500 uppercase">æœˆæŸ±</div>
                            <div class="text-xl md:text-2xl font-bold text-yellow-500 font-serif">{{
                                result.baziInfo.monthPillar }}</div>
                        </div>
                        <div class="bg-slate-800 p-3 md:p-4 rounded-lg w-20 md:w-24 border border-slate-700">
                            <div class="text-[10px] md:text-xs text-slate-500 uppercase">æ—¥æŸ±</div>
                            <div class="text-xl md:text-2xl font-bold text-yellow-500 font-serif">{{
                                result.baziInfo.dayPillar }}</div>
                        </div>
                        <div class="bg-slate-800 p-3 md:p-4 rounded-lg w-20 md:w-24 border border-slate-700">
                            <div class="text-[10px] md:text-xs text-slate-500 uppercase">æ—¶æŸ±</div>
                            <div class="text-xl md:text-2xl font-bold text-yellow-500 font-serif">{{
                                result.baziInfo.hourPillar }}</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2. AI æ·±åº¦è¯„æµ‹å¡ç‰‡ -->
            <div v-if="result.analysisReport" class="grid grid-cols-1 md:grid-cols-2 gap-6 report-grid">
                <!-- å‘½ç†æ€»è¯„ -->
                <div
                    class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-indigo-500 hover:shadow-xl transition-shadow report-card">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="font-bold text-lg text-indigo-700 flex items-center">
                            <span class="text-2xl mr-2">ğŸ”®</span> å‘½ç†æ€»è¯„
                        </h4>
                        <span v-if="result.analysisReport"
                            class="px-3 py-1 bg-indigo-50 text-indigo-700 rounded-full text-sm font-bold">{{
                            result.analysisReport.overall.score || 0 }} åˆ†</span>
                        <span v-else class="text-xs text-gray-400">ç”Ÿæˆä¸­...</span>
                    </div>
                    <p v-if="result.analysisReport"
                        class="text-gray-600 leading-relaxed text-sm text-justify line-clamp-6">{{
                        result.analysisReport.overall.content }}</p>
                    <p v-else class="text-gray-400 text-sm line-clamp-6">AI æ­£åœ¨æ’°å†™å‘½ç†æ€»è¯„...</p>
                </div>

                <!-- æŠ•èµ„/äº¤æ˜“è¿åŠ¿ -->
                <div
                    class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-yellow-500 hover:shadow-xl transition-shadow report-card">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="font-bold text-lg text-yellow-700 flex items-center">
                            <span class="text-2xl mr-2">â‚¿</span> æŠ•èµ„/äº¤æ˜“
                        </h4>
                        <span v-if="result.analysisReport"
                            class="px-3 py-1 bg-yellow-50 text-yellow-700 rounded-full text-sm font-bold">{{
                            result.analysisReport.investment.score || 0 }} åˆ†</span>
                        <span v-else class="text-xs text-gray-400">ç”Ÿæˆä¸­...</span>
                    </div>
                    <p v-if="result.analysisReport"
                        class="text-gray-600 leading-relaxed text-sm text-justify line-clamp-6">{{
                        result.analysisReport.investment.content }}</p>
                    <p v-else class="text-gray-400 text-sm line-clamp-6">AI æ­£åœ¨è¯„ä¼°æŠ•èµ„é£æ ¼å€¾å‘...</p>
                </div>

                <!-- äº‹ä¸š -->
                <div
                    class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-blue-500 hover:shadow-xl transition-shadow report-card">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="font-bold text-lg text-blue-700 flex items-center">
                            <span class="text-2xl mr-2">ğŸš€</span> äº‹ä¸šæˆå°±
                        </h4>
                        <span v-if="result.analysisReport"
                            class="px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm font-bold">{{
                            result.analysisReport.career.score || 0 }} åˆ†</span>
                        <span v-else class="text-xs text-gray-400">ç”Ÿæˆä¸­...</span>
                    </div>
                    <p v-if="result.analysisReport"
                        class="text-gray-600 leading-relaxed text-sm text-justify line-clamp-6">{{
                        result.analysisReport.career.content }}</p>
                    <p v-else class="text-gray-400 text-sm line-clamp-6">AI æ­£åœ¨åˆ†æäº‹ä¸šè·¯å¾„...</p>
                </div>

                <!-- è´¢å¯Œ -->
                <div
                    class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-emerald-500 hover:shadow-xl transition-shadow report-card">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="font-bold text-lg text-emerald-700 flex items-center">
                            <span class="text-2xl mr-2">ğŸ’°</span> è´¢å¯Œå±‚çº§
                        </h4>
                        <span v-if="result.analysisReport"
                            class="px-3 py-1 bg-emerald-50 text-emerald-700 rounded-full text-sm font-bold">{{
                            result.analysisReport.wealth.score || 0 }} åˆ†</span>
                        <span v-else class="text-xs text-gray-400">ç”Ÿæˆä¸­...</span>
                    </div>
                    <p v-if="result.analysisReport"
                        class="text-gray-600 leading-relaxed text-sm text-justify line-clamp-6">{{
                        result.analysisReport.wealth.content }}</p>
                    <p v-else class="text-gray-400 text-sm line-clamp-6">AI æ­£åœ¨ä¼°ç®—è´¢å¯ŒèŠ‚å¥...</p>
                </div>

                <!-- æƒ…æ„Ÿå©šå§» -->
                <div
                    class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-rose-500 hover:shadow-xl transition-shadow report-card">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="font-bold text-lg text-rose-700 flex items-center">
                            <span class="text-2xl mr-2">â¤ï¸</span> æƒ…æ„Ÿå©šå§»
                        </h4>
                        <span v-if="result.analysisReport"
                            class="px-3 py-1 bg-rose-50 text-rose-700 rounded-full text-sm font-bold">{{
                            result.analysisReport.love.score || 0 }} åˆ†</span>
                        <span v-else class="text-xs text-gray-400">ç”Ÿæˆä¸­...</span>
                    </div>
                    <p v-if="result.analysisReport"
                        class="text-gray-600 leading-relaxed text-sm text-justify line-clamp-6">{{
                        result.analysisReport.love.content }}</p>
                    <p v-else class="text-gray-400 text-sm line-clamp-6">AI æ­£åœ¨åˆ†ææƒ…æ„Ÿè½¨è¿¹...</p>
                </div>

                <!-- è¯„åˆ†è®²è§£ï¼ˆç´§å‡‘ç‰ˆï¼šé¿å…æŠŠå¡ç‰‡æ’‘é«˜ï¼Œä¿æŒä¸å…¶å®ƒå¡ç‰‡é«˜åº¦ä¸€è‡´çš„è§‚æ„Ÿï¼‰ -->
                <div
                    class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-slate-300 hover:shadow-xl transition-shadow report-card">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center space-x-2">
                            <div
                                class="w-7 h-7 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 text-sm">
                                â„¹ï¸</div>
                            <h3 class="text-lg font-bold text-slate-800">è¯„åˆ†è®²è§£</h3>
                        </div>
                        <span class="text-slate-400 text-lg">â˜†</span>
                    </div>
                    <div class="space-y-2 text-xs font-semibold">
                        <div class="flex justify-between items-center border-b border-slate-100 pb-1">
                            <span class="text-slate-700">0â€“2åˆ†</span>
                            <span class="px-2 py-0.5 rounded-md text-white font-bold"
                                style="background:#f87171">æå·®</span>
                        </div>
                        <div class="flex justify-between items-center border-b border-slate-100 pb-1">
                            <span class="text-slate-700">3â€“4åˆ†</span>
                            <span class="px-2 py-0.5 rounded-md text-white font-bold"
                                style="background:#fbbf24">å·®</span>
                        </div>
                        <div class="flex justify-between items-center border-b border-slate-100 pb-1">
                            <span class="text-slate-700">5â€“6åˆ†</span>
                            <span class="px-2 py-0.5 rounded-md text-slate-800 font-bold"
                                style="background:#facc15">ä¸€èˆ¬</span>
                        </div>
                        <div class="flex justify-between items-center border-b border-slate-100 pb-1">
                            <span class="text-slate-700">7â€“8åˆ†</span>
                            <span class="px-2 py-0.5 rounded-md text-white font-bold"
                                style="background:#6366f1">å¥½</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-slate-700">9â€“10åˆ†</span>
                            <span class="px-2 py-0.5 rounded-md text-white font-bold"
                                style="background:#34d399">æå¥½</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3. äººç”Ÿ K çº¿å›¾ -->
            <div v-if="result.kLineData.length > 0" class="bg-white p-6 rounded-2xl shadow-lg border border-gray-100">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h3 class="text-lg font-bold text-slate-800">äººç”Ÿæµå¹´å¤§è¿ K çº¿å›¾</h3>
                        <p class="text-xs text-gray-500 mt-1">Green for Good (Web3 Style) / Red for Bad</p>
                    </div>
                    <div class="flex items-center space-x-4 text-xs font-semibold">
                        <div
                            class="flex items-center space-x-2 bg-slate-50 border border-slate-200 rounded-lg px-2 py-1">
                            <span class="text-[11px] font-bold text-slate-600">è§†å›¾</span>
                            <button type="button" @click="chartMode='continuous'"
                                :class="chartMode==='continuous' ? 'bg-indigo-600 text-white' : 'bg-white text-slate-700 hover:bg-slate-100'"
                                class="px-2 py-1 rounded-md text-[11px] font-bold border border-slate-200">
                                è¿è´¯Kçº¿
                            </button>
                            <button type="button" @click="chartMode='absolute'"
                                :class="chartMode==='absolute' ? 'bg-indigo-600 text-white' : 'bg-white text-slate-700 hover:bg-slate-100'"
                                class="px-2 py-1 rounded-md text-[11px] font-bold border border-slate-200">
                                åˆ†æ•°èœ¡çƒ›
                            </button>
                        </div>
                        <span class="flex items-center"><span class="w-3 h-3 bg-green-500 rounded-sm mr-1.5"></span> å‰è¿
                            (Long)</span>
                        <span class="flex items-center"><span class="w-3 h-3 bg-red-500 rounded-sm mr-1.5"></span> å‡¶è¿
                            (Short)</span>
                    </div>
                </div>
                <div id="kline-chart" style="width: 100%; height: 500px;"></div>
            </div>

            <!-- 4. æµå¹´è¯¦æ‰¹å…¨è¡¨ -->
            <div v-if="showTable && result.kLineData.length > 0"
                class="bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100">
                <div class="px-6 py-5 border-b border-gray-100 bg-gray-50 flex justify-between items-center">
                    <h3 class="text-lg font-bold text-gray-800">ğŸ“… æµå¹´è¯¦æ‰¹å…¨è¡¨</h3>
                    <span class="text-xs text-gray-400">æ»‘åŠ¨æŸ¥çœ‹æ›´å¤šå¹´ä»½</span>
                </div>
                <div class="overflow-x-auto h-[600px] overflow-y-auto custom-scrollbar">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50 sticky top-0 z-10 shadow-sm">
                            <tr>
                                <th
                                    class="px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
                                    å¹´é¾„ / å¹´ä»½</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
                                    å¹²æ”¯</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
                                    å¤§è¿</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
                                    è¯„åˆ†</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
                                    è¿åŠ¿æ‰¹æ–­</th>
                            </tr>
                        </thead>
                        <tbody v-if="result.kLineData.length > 0" class="bg-white divide-y divide-gray-100">
                            <tr v-for="(item, idx) in result.kLineData" :key="item.age"
                                class="hover:bg-indigo-50/50 transition-colors group">
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">
                                    <span class="font-bold text-indigo-900 text-base">{{ item.age }}å²</span>
                                    <span class="ml-1 text-xs text-gray-400">({{ item.year }})</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800">
                                    {{ item.ganZhi }}
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                    {{ item.daYun }}
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="px-2.5 py-0.5 inline-flex text-xs font-bold rounded-full"
                                        :class="isBullish(item, idx, result.kLineData) ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'">
                                        {{ item.score }}
                                    </span>
                                </td>
                                <td
                                    class="px-6 py-4 text-sm text-gray-600 leading-relaxed max-w-xl group-hover:text-gray-900">
                                    {{ item.description }}
                                </td>
                            </tr>
                        </tbody>
                        <tbody v-else>
                            <tr>
                                <td colspan="5" class="px-6 py-10 text-center text-gray-400 text-sm">
                                    <div class="flex items-center justify-center space-x-3">
                                        <span class="loading-spinner"></span>
                                        <span v-if="status.kline">K çº¿å’Œæµå¹´æ‰¹æ³¨åŠ è½½ä¸­...</span>
                                        <span v-else>ç­‰å¾…ç”Ÿæˆæµå¹´æ‰¹æ³¨...</span>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="text-center pb-12 pt-4">
                <button @click="resetResult"
                    class="inline-flex items-center text-indigo-600 hover:text-indigo-800 font-semibold transition-colors">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                    è¿”å›é‡æ–°è¾“å…¥
                </button>
                <p class="mt-3 text-xs text-gray-500 leading-5 line-clamp-3">
                    æ³¨ï¼šå‘½è¿è¿˜å—ç¯å¢ƒå’Œä¸ªäººé€‰æ‹©å½±å“ï¼Œå…«å­—è¶‹åŠ¿ä¸èƒ½å®Œå…¨ä»£è¡¨çœŸå®äººç”Ÿï¼Œå‘½ç†å­¦ä¸æ˜¯ç„å­¦ï¼Œè€Œæ˜¯å¸®åŠ©æˆ‘ä»¬åœ¨äººç”Ÿåˆ—è½¦ä¸Šåšå‡ºæ›´å¥½é€‰æ‹©çš„å“²å­¦å·¥å…·ã€‚
                    ä¸€å‘½äºŒè¿ä¸‰é£æ°´ å››ç§¯é˜´å¾·äº”è¯»ä¹¦ å…­åä¸ƒç›¸å…«æ•¬ç¥ ä¹é‡è´µäººåå…»ç”Ÿã€‚
                </p>
            </div>

        </div>
    </div>

    <script>
        const { createApp, ref, reactive, nextTick, computed, watch } = Vue;

        createApp({
            setup() {
                const status = reactive({
                    submitting: false,
                    bazi: false,
                    report: false,
                    yearly: false,
                    kline: false
                });
                const hasResult = ref(false);
                const requestId = ref('');
                const currentStep = ref(1); // 1-bazi 2-report 3-kline 4-table
                const showTable = ref(false);

                const form = ref({
                    year: 2000,
                    month: 1,
                    day: 1,
                    hour: 10,
                    minute: 0,
                    gender: 'ç”·',
                    city: 'åŒ—äº¬'
                });

                const result = reactive({
                    baziInfo: null,
                    analysisReport: null,
                    yearlyItems: [],
                    kLineData: []
                });

                // å›¾è¡¨å±•ç¤ºæ¨¡å¼ï¼š
                // - continuous: è¿è´¯Kçº¿ï¼ˆopen=ä¸Šä¸€å¹´close, close=å½“å¹´scoreï¼‰
                // - absolute: åˆ†æ•°èœ¡çƒ›ï¼ˆä»0åˆ°scoreï¼Œé«˜åº¦ä¸¥æ ¼ç­‰äºscoreï¼‰ï¼Œé¢œè‰²æŒ‰ trend/ä¸Šä¸€å¹´å¯¹æ¯”
                const chartMode = ref('continuous');

                let chartInstance = null;

                const resetResult = () => {
                    result.baziInfo = null;
                    result.analysisReport = null;
                    result.yearlyItems = [];
                    result.kLineData = [];
                    hasResult.value = false;
                    currentStep.value = 1;
                    requestId.value = '';
                    showTable.value = false;
                    Object.keys(status).forEach(k => status[k] = false);
                    if (chartInstance) {
                        chartInstance.dispose();
                        chartInstance = null;
                    }
                };

                const genRequestId = () => {
                    if (requestId.value) return requestId.value;
                    requestId.value = `rid-${Date.now()}-${Math.random().toString(16).slice(2, 8)}`;
                    return requestId.value;
                };

                const isBusy = computed(() => status.submitting || status.bazi || status.report || status.yearly || status.kline);

                // ç»Ÿä¸€â€œç‰›/ç†Šï¼ˆå‰/å‡¶ï¼‰â€åˆ¤å®šé€»è¾‘ï¼š
                // 1) ä¼˜å…ˆä½¿ç”¨åç«¯çš„ trendï¼ˆBullish/Bearishï¼‰
                // 2) å¦åˆ™ä½¿ç”¨â€œä¸å‰ä¸€å¹´ score æ¯”è¾ƒâ€ï¼ˆæ›´ç¬¦åˆâ€œå‰ä¸€å®šæ¯”å‰ä¸€å¹´é«˜/å‡¶ä¸€å®šæ¯”å‰ä¸€å¹´ä½â€çš„è¯­ä¹‰ï¼‰
                // 3) å…œåº•ä½¿ç”¨ close >= openï¼ˆè‹¥æœ‰ï¼‰
                const isBullish = (item, idx, arr) => {
                    const t = String(item?.trend ?? '').toLowerCase();
                    if (t.includes('bull') || t.includes('long') || t.includes('up')) return true;
                    if (t.includes('bear') || t.includes('short') || t.includes('down')) return false;

                    if (Array.isArray(arr) && typeof idx === 'number' && idx > 0) {
                        const curr = Number(arr[idx]?.score ?? arr[idx]?.close ?? 0);
                        const prev = Number(arr[idx - 1]?.score ?? arr[idx - 1]?.close ?? 0);
                        if (!Number.isNaN(curr) && !Number.isNaN(prev)) return curr >= prev;
                    }

                    const open = Number(item?.open);
                    const close = Number(item?.close);
                    if (!Number.isNaN(open) && !Number.isNaN(close)) return close >= open;
                    return false;
                };

                const runStep = async () => {
                    if (isBusy.value) return;
                    const payload = { ...form.value, requestId: genRequestId() };
                    if (currentStep.value === 1) {
                        await runBazi(payload);
                        hasResult.value = true;
                        currentStep.value = 2;
                        return;
                    }
                    if (currentStep.value === 2) {
                        await runReport(payload);
                        currentStep.value = 3;
                        return;
                    }
                    if (currentStep.value === 3) {
                        await runKlineFirst(payload);
                        currentStep.value = 4;
                        return;
                    }
                    if (currentStep.value === 4) {
                        await runYearlyFromCache(payload);
                        showTable.value = true;
                        currentStep.value = 5; // å®Œæˆ
                        return;
                    }
                };

                const runBazi = async (payload) => {
                    status.submitting = true;
                    status.bazi = true;
                    try {
                        const resp = await fetch('/api/fate/bazi', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });
                        if (!resp.ok) throw new Error("å…«å­—æ’ç›˜æ¥å£å¼‚å¸¸");
                        const data = await resp.json();
                        requestId.value = data.requestId || payload.requestId;
                        result.baziInfo = data.baziInfo;
                    } catch (e) {
                        alert(e.message);
                    } finally {
                        status.bazi = false;
                        status.submitting = false;
                    }
                };

                const runReport = async (payload) => {
                    status.submitting = true;
                    status.report = true;
                    try {
                        const resp = await fetch('/api/fate/report', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });
                        if (!resp.ok) throw new Error("æŠ¥å‘Šç”Ÿæˆæ¥å£å¼‚å¸¸");
                        const data = await resp.json();
                        result.analysisReport = data.analysisReport || data;
                    } catch (e) {
                        alert(e.message);
                    } finally {
                        status.report = false;
                        status.submitting = false;
                    }
                };

                const extractKLineData = (data) => {
                    if (!data) return [];
                    if (Array.isArray(data)) return data;
                    // å…¼å®¹ fastjson2/JavaBeans å¯¹ getKLineData çš„å‘½åï¼šKLineData
                    return data.kLineData || data.klineData || data.KLineData || data.kLine || data.KLine || [];
                };

                const runKlineFirst = async (payload) => {
                    status.submitting = true;
                    status.kline = true;
                    showTable.value = false;
                    try {
                        const resp = await fetch('/api/fate/kline', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                request: payload,
                                requestId: requestId.value
                            })
                        });
                        if (!resp.ok) throw new Error("Kçº¿ç”Ÿæˆæ¥å£å¼‚å¸¸");
                        const data = await resp.json();
                        result.kLineData = extractKLineData(data);
                        if (result.kLineData.length > 0) {
                            await nextTick();
                            initChart(result.kLineData);
                        }
                    } catch (e) {
                        alert(e.message);
                    } finally {
                        status.kline = false;
                        status.submitting = false;
                    }
                };

                const runYearlyFromCache = async (payload) => {
                    status.submitting = true;
                    status.yearly = true;
                    try {
                        const resp = await fetch('/api/fate/yearly', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });
                        if (!resp.ok) throw new Error("è¯·å…ˆæ‰§è¡Œæ­¥éª¤3ç”ŸæˆKçº¿");
                        const data = await resp.json();
                        // ä»¥ kLineData ä¸ºå‡†ï¼ˆåŒ…å«æ‰¹æ³¨ï¼‰ï¼ŒyearlyItems å¤‡ç”¨
                        const kLine = extractKLineData(data);
                        if (kLine && kLine.length > 0) {
                            result.kLineData = kLine;
                        }
                        result.yearlyItems = (data && data.yearlyItems) ? data.yearlyItems : (result.yearlyItems || []);
                    } catch (e) {
                        alert(e.message);
                    } finally {
                        status.yearly = false;
                        status.submitting = false;
                    }
                };

                // runKline å·²å¹¶å…¥ runKlineFirstï¼ˆå…ˆè°ƒç”¨ /klineï¼Œç”±åç«¯ç»Ÿä¸€è§¦å‘ LLMï¼‰

                const initChart = (kLineData) => {
                    const chartDom = document.getElementById('kline-chart');
                    if (!chartDom) return;
                    if (chartInstance) chartInstance.dispose();
                    chartInstance = echarts.init(chartDom);

                    // å›¾äºŒé£æ ¼ï¼šåº•éƒ¨æ˜¾ç¤ºå¹´é¾„åºå·ï¼Œä¸Šæ–¹æ˜¾ç¤ºå¤§è¿åˆ†æ®µ
                    const ages = kLineData.map(item => String((item.age ?? 0) + 1));
                    const daYunLabels = [];
                    let prevDy = null;
                    for (let i = 0; i < kLineData.length; i++) {
                        const dy = kLineData[i].daYun || '';
                        if (i === 0 || dy !== prevDy) {
                            daYunLabels[i] = dy;
                        } else {
                            daYunLabels[i] = '';
                        }
                        prevDy = dy;
                    }
                    // ä¸¤ç§è§†å›¾ï¼š
                    // 1) continuous: è¿è´¯Kçº¿ï¼ˆopen=ä¸Šä¸€å¹´close, close=å½“å¹´scoreï¼‰ï¼Œå®ä½“é«˜åº¦=ä¸¤å¹´å·®å€¼
                    // 2) absolute: åˆ†æ•°èœ¡çƒ›ï¼ˆä»0åˆ°scoreï¼‰ï¼Œå®ä½“é«˜åº¦=score
                    // å…±åŒç‚¹ï¼šæ— å½±çº¿çŸ©å½¢ï¼ˆlow/high æ”¶æ•›åˆ°å®ä½“èŒƒå›´ï¼‰ï¼Œé¢œè‰²ç”± trend/ä¸Šä¸€å¹´å¯¹æ¯”å†³å®š

                    // é¢„è®¡ç®—æ¯å¹´çš„ scoreï¼ˆä½œä¸º close çš„è¯­ä¹‰ï¼‰
                    const scores = kLineData.map(item => {
                        let s = Number(item?.score ?? item?.close ?? 0);
                        if (Number.isNaN(s)) s = 0;
                        return Math.max(0, Math.min(100, s));
                    });

                    const valuesContinuous = (() => {
                        // çº¦æŸï¼š
                        // 1) open = ä¸Šä¸€å¹´ close
                        // 2) |close - open| = å½“å¹´ score
                        // 3) å‰/å‡¶æ–¹å‘ç”± trendï¼ˆä¼˜å…ˆï¼‰æˆ–â€œä¸å‰ä¸€å¹´ score æ¯”è¾ƒâ€å†³å®š
                        let prevClose = null;
                        return kLineData.map((item, idx) => {
                            const score = scores[idx];

                            // openï¼šä¸¥æ ¼è¿è´¯
                            let open;
                            if (idx === 0) {
                                // é¦–æ ¹æ²¡æœ‰â€œä¸Šä¸€å¹´â€ï¼Œç”¨ 0 ä½œä¸ºåŸºçº¿ï¼ˆå¯è§†åŒ–è¯­ä¹‰æ›´ç¨³å®šï¼‰
                                open = 0;
                            } else {
                                open = prevClose == null ? 0 : prevClose;
                            }

                            const bullish = isBullish(item, idx, kLineData);
                            let close = bullish ? (open + score) : (open - score);

                            // æ— å½±çº¿çŸ©å½¢ï¼šlow/high æ”¶æ•›åˆ°å®ä½“èŒƒå›´
                            const low = Math.min(open, close);
                            const high = Math.max(open, close);

                            prevClose = close;
                            return [open, close, low, high];
                        });
                    })();

                    const valuesAbsolute = kLineData.map((item, idx) => {
                        const score = scores[idx];
                        const bullish = isBullish(item, idx, kLineData);
                        const open = bullish ? 0 : score;
                        const close = bullish ? score : 0;
                        const low = 0;
                        const high = score;
                        return [open, close, low, high];
                    });

                    const values = chartMode.value === 'absolute' ? valuesAbsolute : valuesContinuous;
                    const rawData = kLineData;

                    const option = {
                        backgroundColor: '#fff',
                        animation: true,
                        tooltip: {
                            trigger: 'axis',
                            axisPointer: { type: 'cross', lineStyle: { color: '#8392A5', width: 1, type: 'dashed' } },
                            backgroundColor: 'rgba(255, 255, 255, 0.95)',
                            borderColor: '#e2e8f0',
                            borderWidth: 1,
                            padding: 12,
                            textStyle: { color: '#1e293b' },
                            extraCssText: 'box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); border-radius: 8px;',
                            formatter: function (params) {
                                if (!params || params.length === 0) return '';
                                const index = params[0].dataIndex;
                                const item = rawData[index];
                                const bullish = isBullish(item, index, rawData);
                                const scoreColor = bullish ? 'text-green-600' : 'text-red-600';
                                const trendText = bullish ? 'å‰ (Long)' : 'å‡¶ (Short)';

                                return `
                                <div class="font-bold text-base mb-2 border-b pb-2 border-gray-100">
                                    ${item.year} <span class="text-indigo-600">${item.ganZhi}</span>
                                    <span class="text-gray-400 text-sm ml-1">(${item.age}å²)</span>
                                </div>
                                <div class="text-sm mb-1"><span class="text-gray-500 w-12 inline-block">å¤§è¿:</span> ${item.daYun}</div>
                                <div class="text-sm mb-1"><span class="text-gray-500 w-12 inline-block">è¯„åˆ†:</span> <span class="${scoreColor} font-bold text-lg">${item.score}</span></div>
                                <div class="text-sm mb-3"><span class="text-gray-500 w-12 inline-block">è¶‹åŠ¿:</span> ${trendText}</div>
                                <div class="text-xs bg-slate-50 p-2.5 rounded text-slate-700 leading-relaxed border-l-2 border-indigo-500">
                                    ${item.description || 'æš‚æ— è¯¦ç»†æ‰¹æ³¨'}
                                </div>
                            `;
                            }
                        },
                        grid: { left: '3%', right: '3%', bottom: 60, top: 50, containLabel: true },
                        xAxis: [
                            {
                                type: 'category',
                                data: ages,
                                boundaryGap: true,
                                axisLine: { lineStyle: { color: '#e2e8f0' } },
                                axisLabel: { color: '#64748b', fontSize: 10, interval: 4 },
                                axisTick: { show: false },
                                splitLine: { show: true, lineStyle: { color: '#f1f5f9', type: 'dashed' } }
                            },
                            {
                                type: 'category',
                                data: ages,
                                position: 'top',
                                axisLine: { show: false },
                                axisTick: { show: false },
                                axisLabel: {
                                    color: '#64748b',
                                    fontSize: 10,
                                    interval: 0,
                                    formatter: function (_value, index) { return daYunLabels[index] || ''; }
                                },
                                splitLine: { show: false }
                            }
                        ],
                        yAxis: {
                            // æ—¢ä¿ç•™ 0~100 çš„å‚è€ƒï¼Œåˆå…è®¸â€œè¿è´¯Kçº¿â€æŒ‰ score ç´¯ç§¯æ¼‚ç§»ä¸è¢«è£å‰ª
                            min: function (val) { return Math.floor(Math.min(0, val.min)); },
                            max: function (val) { return Math.ceil(Math.max(100, val.max)); },
                            splitNumber: 4,
                            axisLabel: { color: '#64748b' },
                            splitLine: { lineStyle: { color: '#f1f5f9' } }
                        },
                        // é»˜è®¤å±•ç¤ºå…¨å›¾ï¼Œä½†æ”¯æŒæ‰‹åŠ¿ç¼©æ”¾/æ»šè½®ç¼©æ”¾
                        dataZoom: [
                            { type: 'inside', start: 0, end: 100 }
                        ],
                        series: [
                            {
                                type: 'candlestick',
                                data: values,
                                itemStyle: {
                                    // å›¾äºŒé£æ ¼ï¼šæ¶¨ç»¿è·Œçº¢
                                    color: '#22c55e',
                                    color0: '#ef4444',
                                    borderColor: '#16a34a',
                                    borderColor0: '#dc2626',
                                    borderWidth: 1
                                },
                                xAxisIndex: 0,
                                // èœ¡çƒ›å®½åº¦æŒ‰â€œ100 å¹´æ¨ªè½´â€ä¸ºç›®æ ‡è‡ªé€‚åº”ï¼ˆé¿å…å¤ªç»†/å¤ªå®½ï¼‰
                                barMaxWidth: (() => {
                                    const targetCount = Math.max(100, values.length);
                                    const w = chartDom.clientWidth || 1000;
                                    return Math.max(4, Math.min(18, Math.floor(w / (targetCount * 1.8))));
                                })(),
                                barWidth: (() => {
                                    const targetCount = Math.max(100, values.length);
                                    const w = chartDom.clientWidth || 1000;
                                    return Math.max(4, Math.min(18, Math.floor(w / (targetCount * 1.8))));
                                })()
                            }
                        ]
                    };

                    chartInstance.setOption(option);
                    window.addEventListener('resize', () => chartInstance.resize());
                };

                const stepButtonText = computed(() => {
                    if (currentStep.value === 1) return 'æ­¥éª¤1ï¼šè®¡ç®—å…«å­—';
                    if (currentStep.value === 2) return 'æ­¥éª¤2ï¼šç”ŸæˆæŠ¥å‘Š';
                    if (currentStep.value === 3) return 'æ­¥éª¤3ï¼šç”ŸæˆKçº¿';
                    if (currentStep.value === 4) return 'æ­¥éª¤4ï¼šæŸ¥çœ‹æµå¹´æ‰¹æ³¨';
                    return 'å…¨éƒ¨å®Œæˆ';
                });

                watch(chartMode, async () => {
                    if (!result.kLineData || result.kLineData.length === 0) return;
                    await nextTick();
                    initChart(result.kLineData);
                });

                return {
                    status,
                    hasResult,
                    form,
                    result,
                    currentStep,
                    showTable,
                    stepButtonText,
                    isBusy,
                    requestId,
                    isBullish,
                    chartMode,
                    resetResult,
                    runStep
                };
            }
        }).mount('#app');
    </script>

    <style>
        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background-color: #94a3b8;
        }
    </style>

</body>

</html>